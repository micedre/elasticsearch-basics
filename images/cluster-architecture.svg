<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect x="0" y="0" width="800" height="600" fill="#ffffff"/>

  <!-- Cluster border -->
  <rect x="50" y="80" width="700" height="420" fill="none" stroke="#999" stroke-width="2" stroke-dasharray="5,5" rx="10"/>
  <text x="400" y="70" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Elasticsearch Cluster</text>

  <!-- Master Node -->
  <rect x="320" y="120" width="160" height="80" fill="#ffcccc" stroke="#cc9999" stroke-width="2" rx="5"/>
  <text x="400" y="165" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Master Node</text>

  <!-- Data Nodes -->
  <rect x="100" y="280" width="140" height="80" fill="#ccffcc" stroke="#99cc99" stroke-width="2" rx="5"/>
  <text x="170" y="325" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Data Node 1</text>

  <rect x="330" y="280" width="140" height="80" fill="#ccffcc" stroke="#99cc99" stroke-width="2" rx="5"/>
  <text x="400" y="325" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Data Node 2</text>

  <rect x="560" y="280" width="140" height="80" fill="#ccffcc" stroke="#99cc99" stroke-width="2" rx="5"/>
  <text x="630" y="325" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Data Node 3</text>

  <!-- Coordinating Node -->
  <rect x="320" y="400" width="160" height="80" fill="#ccccff" stroke="#9999cc" stroke-width="2" rx="5"/>
  <text x="400" y="435" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Coordinating</text>
  <text x="400" y="455" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Node</text>

  <!-- Client Application -->
  <rect x="320" y="520" width="160" height="60" fill="#eeeeee" stroke="#999" stroke-width="2" rx="5"/>
  <text x="400" y="545" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Client</text>
  <text x="400" y="565" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Application</text>

  <!-- Arrows from Master to Data Nodes (dashed) -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>

  <!-- Master manages Data Node 1 -->
  <line x1="360" y1="200" x2="200" y2="280" stroke="#666" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="260" y="230" font-family="Arial, sans-serif" font-size="12" fill="#666">manages</text>

  <!-- Master manages Data Node 2 -->
  <line x1="400" y1="200" x2="400" y2="280" stroke="#666" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="410" y="240" font-family="Arial, sans-serif" font-size="12" fill="#666">manages</text>

  <!-- Master manages Data Node 3 -->
  <line x1="440" y1="200" x2="600" y2="280" stroke="#666" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="520" y="230" font-family="Arial, sans-serif" font-size="12" fill="#666">manages</text>

  <!-- Coordinating routes to Data Nodes (solid) -->
  <line x1="360" y1="400" x2="200" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="240" y="370" font-family="Arial, sans-serif" font-size="11" fill="#333">routes requests</text>

  <line x1="400" y1="400" x2="400" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="410" y="375" font-family="Arial, sans-serif" font-size="11" fill="#333">routes requests</text>

  <line x1="440" y1="400" x2="600" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="500" y="370" font-family="Arial, sans-serif" font-size="11" fill="#333">routes requests</text>

  <!-- Client to Coordinating -->
  <line x1="400" y1="520" x2="400" y2="480" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="420" y="505" font-family="Arial, sans-serif" font-size="12" fill="#333">HTTP/REST</text>
</svg>

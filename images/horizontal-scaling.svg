<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect x="0" y="0" width="800" height="600" fill="#ffffff"/>

  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Horizontal Scaling in Elasticsearch</text>

  <!-- 3-Node Cluster Section (Left) -->
  <rect x="30" y="70" width="320" height="450" fill="none" stroke="#999" stroke-width="2" stroke-dasharray="5,5" rx="10"/>
  <text x="190" y="95" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#666">3-Node Cluster</text>

  <!-- Node 1 (3-node) -->
  <rect x="60" y="120" width="260" height="100" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="190" y="145" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Node 1</text>
  <text x="190" y="165" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">3 Primary Shards</text>
  <text x="190" y="183" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">3 Replica Shards</text>
  <text x="190" y="201" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999">Total: 6 shards</text>

  <!-- Node 2 (3-node) -->
  <rect x="60" y="240" width="260" height="100" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="190" y="265" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Node 2</text>
  <text x="190" y="285" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">3 Primary Shards</text>
  <text x="190" y="303" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">3 Replica Shards</text>
  <text x="190" y="321" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999">Total: 6 shards</text>

  <!-- Node 3 (3-node) -->
  <rect x="60" y="360" width="260" height="100" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="190" y="385" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Node 3</text>
  <text x="190" y="405" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">3 Primary Shards</text>
  <text x="190" y="423" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">3 Replica Shards</text>
  <text x="190" y="441" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999">Total: 6 shards</text>

  <!-- Arrow between clusters -->
  <defs>
    <marker id="arrowhead-large" markerWidth="12" markerHeight="12" refX="11" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#43a047" />
    </marker>
  </defs>
  <line x1="350" y1="290" x2="430" y2="290" stroke="#43a047" stroke-width="3" marker-end="url(#arrowhead-large)"/>
  <text x="390" y="270" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#43a047">add nodes</text>
  <text x="390" y="310" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">shards rebalance</text>
  <text x="390" y="328" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">automatically</text>

  <!-- 5-Node Cluster Section (Right) -->
  <rect x="430" y="70" width="340" height="450" fill="none" stroke="#999" stroke-width="2" stroke-dasharray="5,5" rx="10"/>
  <text x="600" y="95" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#666">5-Node Cluster (Scaled)</text>

  <!-- Node 1 (5-node) -->
  <rect x="460" y="120" width="140" height="70" fill="#c8e6c9" stroke="#43a047" stroke-width="2" rx="5"/>
  <text x="530" y="145" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">Node 1</text>
  <text x="530" y="163" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Primary</text>
  <text x="530" y="179" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Replicas</text>

  <!-- Node 2 (5-node) -->
  <rect x="620" y="120" width="140" height="70" fill="#c8e6c9" stroke="#43a047" stroke-width="2" rx="5"/>
  <text x="690" y="145" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">Node 2</text>
  <text x="690" y="163" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Primary</text>
  <text x="690" y="179" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Replicas</text>

  <!-- Node 3 (5-node) -->
  <rect x="460" y="210" width="140" height="70" fill="#c8e6c9" stroke="#43a047" stroke-width="2" rx="5"/>
  <text x="530" y="235" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">Node 3</text>
  <text x="530" y="253" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Primary</text>
  <text x="530" y="269" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Replicas</text>

  <!-- Node 4 (5-node - NEW) -->
  <rect x="620" y="210" width="140" height="70" fill="#ffecb3" stroke="#ff8f00" stroke-width="2" rx="5"/>
  <text x="690" y="235" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">Node 4</text>
  <text x="690" y="253" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">1 Primary</text>
  <text x="690" y="269" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">1 Replica</text>
  <rect x="615" y="195" width="50" height="20" fill="#ff8f00" rx="3"/>
  <text x="640" y="210" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#fff">NEW</text>

  <!-- Node 5 (5-node - NEW) -->
  <rect x="540" y="300" width="140" height="70" fill="#ffecb3" stroke="#ff8f00" stroke-width="2" rx="5"/>
  <text x="610" y="325" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">Node 5</text>
  <text x="610" y="343" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Primary</text>
  <text x="610" y="359" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#555">2 Replicas</text>
  <rect x="535" y="285" width="50" height="20" fill="#ff8f00" rx="3"/>
  <text x="560" y="300" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#fff">NEW</text>

  <!-- Benefits section (bottom) -->
  <rect x="460" y="395" width="300" height="110" fill="#f5f5f5" stroke="#999" stroke-width="1" rx="5"/>
  <text x="610" y="415" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">Scaling Benefits:</text>
  <text x="470" y="438" font-family="Arial, sans-serif" font-size="11" fill="#555">✓ More storage capacity</text>
  <text x="470" y="458" font-family="Arial, sans-serif" font-size="11" fill="#555">✓ Better query performance</text>
  <text x="470" y="478" font-family="Arial, sans-serif" font-size="11" fill="#555">✓ Higher throughput</text>
  <text x="470" y="498" font-family="Arial, sans-serif" font-size="11" fill="#555">✓ Increased fault tolerance</text>

  <!-- Legend -->
  <rect x="30" y="540" width="740" height="45" fill="#fafafa" stroke="#ccc" stroke-width="1" rx="5"/>
  <rect x="50" y="555" width="20" height="20" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5" rx="2"/>
  <text x="80" y="570" font-family="Arial, sans-serif" font-size="11" fill="#333">Original nodes</text>

  <rect x="220" y="555" width="20" height="20" fill="#c8e6c9" stroke="#43a047" stroke-width="1.5" rx="2"/>
  <text x="250" y="570" font-family="Arial, sans-serif" font-size="11" fill="#333">Rebalanced nodes</text>

  <rect x="420" y="555" width="20" height="20" fill="#ffecb3" stroke="#ff8f00" stroke-width="1.5" rx="2"/>
  <text x="450" y="570" font-family="Arial, sans-serif" font-size="11" fill="#333">New nodes added</text>
</svg>
